name: CodeQL Analysis

on:
  push:
    branches: [ master ]

jobs:
  codeql-analysis:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout code
      uses: actions/checkout@v2
    - name: Setup CodeQL
      uses: github/codeql-action/setup-codeql@v2.1.0
      with:
        languages: cpp, php, python, go, javascript, c, ruby
    - name: Analyze all files in root directory
      run: |
        codeql database analyze --language cpp,php,python,go,javascript,c,ruby --src . --output-dir codeql-result
